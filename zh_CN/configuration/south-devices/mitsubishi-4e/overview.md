# Mitsubishi 4E

Neuron Mitsubishi 4E 插件完全兼容 Mitsubishi SLMP (MC) 协议，主要用于通过以太网访问三菱的 PLC，如 iQ-F 系列（SLMP）和 IQ-R 系列：

- **iQ-F 系列（SLMP）**：iQ-F 系列是三菱最新的 PLC 产品线，内置以太网、模拟 I/O、数据记录等功能。支持SLMP（Seamless Message Protocol）协议，这是一种可以在以太网上通信的协议。
- **iQ-R 系列**：iQ-R 系列是三菱的另一款高性能 PLC，它提供了高速处理、大容量存储和丰富的模块选择。iQ-R 系列适用于需要高性能和大规模I/O处理的大型和复杂的自动化应用。

## 添加插件

在 **配置 -> 南向设备**，点击**添加设备**来创建设备节点，输入插件名称，插件类型选择 **Mitsubishi 4E** 启用插件。

## 设备配置

|  参数      | 说明                       |
| -------- | -------------------------- |
| **传输模式** |  采用 TCP 模式或 UDP 模式         |
| **PLC IP 地址** |  目标设备 IPv4 地址         |
| **PLC 端口** | 目标设备端口号，默认为 2000 |
| **PLC 响应超时** | PLC 的最大响应超时，默认为 15000 ms |

## 设置组和点位

完成插件的添加和配置后，要建立设备与 Neuron 之间的通信，首先为南向驱动程序添加组和点位。

完成设备配置后，在**南向设备**页，点击设备卡片/设备列进入**组列表**页。点击**创建**来创建组，设定组名称以及采集间隔。完成组的创建后，点击组名称进入**点位列表**页，添加需要采集的设备点位，包括点位地址，点位属性，数据类型等。

公共配置项部分可参考[连接南向设备](../south-devices.md)，本页将介绍支持的数据类型和地址格式部分。

### 数据类型

* INT16
* UINT16
* INT32
* UINT32
* FLOAT
* DOUBLE
* BIT
* STRING

### 地址格式

> AREA ADDRESS\[.BIT]\[.LEN\[H]\[L]]

#### .BIT

只可用于**非 bit 类型区域**，表示读取指定地址的指定二进制位，二进制位索引区间为[0, 15]。

#### .LEN\[H]\[L]

当数据类型是 string 类型时，**.LEN** 表示的是字符串长度；可以选填 **H**和 **L** 表示两种字节顺序，默认的是 **H** 的字节顺序。

#### 区域地址

| 区域 |数据类型 | 属性  | 备注                           |
| ---- | --------- | ---------- | -------------------------------- |
| X    | bit       | 读/写 | 输入继电器  (iQ-F)             |
| DX   | bit       | 读/写 | (iQ-F)                         |
| Y    | bit       | 读/写 | 输出继电器 (iQ-F)            |
| DY   | bit       | 读/写 | (iQ-F)                         |
| B    | bit       | 读/写 | 链接继电器 (iQ-F)              |
| SB   | bit       | 读/写 | 链接专用继电器               |
| M    | bit       | 读/写 | 内部继电器 (iQ-F)          |
| SM   | bit       | 读/写 | 特殊寄存器 (iQ-F)           |
| L    | bit       | 读/写 | 锁存器 (iQ-F)             |
| F    | bit       | 读/写 | 信号器 (iQ-F)             |
| V    | bit       | 读/写 | 边缘继电器 (iQ-F)              |
| S    | bit       | 读/写 | (iQ-F)                         |
| TS   | bit       | 读/写 | 定时器触点 (iQ-F)           |
| TC   | bit       | 读/写 | 定时器线圈 (iQ-F)              |
| SS   | bit       | 读/写 | (iQ-F)                         |
| STS  | bit       | 读/写 | 保持定时器触点 (iQ-F)    |
| SC   | bit       | 读/写 | (iQ-F)                         |
| CS   | bit       | 读/写 | 计数器触点 (iQ-F)         |
| CC   | bit       | 读/写 | 计数器线圈 (iQ-F)            |
| TN   | 所有类型   | 读/写 | 定时器当前值 (iQ-F)     |
| STN  | 所有类型   | 读/写 | 保持定时器 (iQ-F)         |
| SN   | 所有类型   | 读/写 | (iQ-F)                         |
| CN   | 所有类型   | 读/写 | 计数器当前值  (iQ-F)  |
| D    | 所有类型   | 读/写 | 数据寄存器 (iQ-F)           |
| DSH  | -- |       |                                  |
| DSL  | -- |      |                                  |
| SD   | 所有类型   | 读/写 | 专用寄存器 Specical register (iQ-F)       |
| W    | 所有类型   | 读/写 | 链接寄存器 (iQ-F)           |
| WSH  | -- |      |                                  |
| WSL  | -- |      |                                  |
| SW   | 所有类型   | 读/写 | 链接专用寄存器 (iQ-F)   |
| R    | 所有类型   | 读/写 | 文件寄存器 (iQ-F)           |
| ZR   | 所有类型   | 读/写 | 文件寄存器 File register (iQ-F)           |
| RSH  | -- |  |                                  |
| ZRSH | -- |  |                                  |
| RSL  | -- |  |                                  |
| ZRSL | -- |  |                                  |
| Z    | 所有类型  | 读/写  | 索引寄存器 Index register (iQ-F)          |

### 地址示例

| 地址   | 数据类型 | 说明 |
| ----- | ------- | ----- |
| X0    | bit     | X 区域，地址为 0    |
| X1    | bit     | X 区域，地址为 1    |
| Y0    | bit     | Y 区域，地址为 0    |
| Y1    | bit     | Y 区域，地址为 1    |
| D100  | int16   | D 区域，地址为 100  |
| D1000 | uint16  | D 区域，地址为 1000 |
| D200  | uint32  | D 区域，地址为 200  |
| D10   | float   | D 区域，地址为 10   |
| D20   | double  | D 区域，地址为 20   |
| D20.0 | bit | D 区域，地址为 20，第 0 位|
| D20.2 | bit | D 区域，地址为 20，第 2 位|
| D1002.16L | string  | D 区域，地址为 1002，字符串长度为 16，字节顺序为 L |
| D1003.16 | string  | D 区域，地址为 1003，字符串长度为 16，字节顺序为 H |

## 应用场景

FX5U PLC 的设置可以参考 Mitsubishi 3E 的相关设置：

- [FX5U](../mitsubishi-3e/fx5u.md)

## 数据监控

完成点位的配置后，您可点击 **监控** -> **数据监控**查看设备信息以及反控设备，具体可参考[数据监控](../../../admin/monitoring.md)。

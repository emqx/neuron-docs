# Mitsubishi FX

Mitsubishi FX 插件用于通过 FX 编程口访问三菱的 FX0、FX2、FX3 等系列 PLC。

## 添加插件

在 **配置 -> 南向设备**，点击**添加设备**来创建设备节点，输入插件名称，插件类型选择 **Mitsubishi FX** 启用插件。

## 设备配置

点击插件卡片或插件列，进入**设备配置**页。配置 Neuron 与设备建立连接所需的参数，下表为插件相关配置项。

| 字段     | 说明                           |
| -------- | ------------------------------ |
| **连接超时时间** | 连接超时时间，默认为 3000 毫秒 |
| **指令发送间隔** | 指令发送间隔，默认为20毫秒   |
| **串口设备**   | 串口设备路径                |
| **停止位**     | 停止位，默认为1             |
| **校验位**   | 校验位，默认为 even         |
| **波特率**     | 波特率，默认9600            |
| **数据位**     | 数据位，默认为7             |

## 设置组和点位

完成插件的添加和配置后，要建立设备与 Neuron 之间的通信，首先为南向驱动程序添加组和点位。

完成设备配置后，在**南向设备**页，点击设备卡片/设备列进入**组列表**页。点击**创建**来创建组，设定组名称以及采集间隔。完成组的创建后，点击组名称进入**点位列表**页，添加需要采集的设备点位，包括点位地址，点位属性，数据类型等。

公共配置项部分可参考[连接南向设备](../south-devices.md)，本页将介绍支持的数据类型和地址格式部分。

### 数据类型

* INT16
* UINT16
* INT32
* UINT32
* FLOAT
* DOUBLE
* BIT
* STRING

### 地址格式

> AREA ADDRESS\[.BIT]\[.LEN\[H]\[L]]</span>

#### AREA ADDRESS

| 区域 | 数据类型 | 属性  | 备注                                   |
| ---- | -------- | ----- | -------------------------------------- |
| X    | bit      | 读/写 | 输入继电器  (FX3U)                 |
| Y    | bit      | 读/写 | 输出继电器 (FX3U)                  |
| M    | bit      | 读/写 | 内部继电器 (FX3U)                  |
| SM   | bit      | 读/写 | 特殊寄存器 (FX3U)                  |
| S    | bit      | 读/写 | 状态继电器(FX3U)                   |
| TS   | bit      | 读/写 | 定时器触点 (FX3U)                  |
| CS   | bit      | 读/写 | 计数器触点 (FX3U)                  |
| TN   | 所有类型 | 读/写 | 定时器当前值 (FX3U)                 |
| CN   | 所有类型 | 读/写 | 计数器当前值 (FX3U)                 |
| D    | 所有类型 | 读/写 | 数据寄存器 (FX3)                   |

#### .BIT

只可用于**非 bit 类型区域**，表示读取指定地址的指定二进制位，二进制位索引区间为[0, 15]。

| 地址  | 数据类型 | 说明                       |
| ----- | -------- | -------------------------- |
| D20.0 | bit      | D 区域，地址为 20，第 0 位 |
| D20.2 | bit      | D 区域，地址为 20，第 2 位 |

#### .LEN\[H]\[L]

当数据类型是 string 类型时，**.LEN** 表示的是字符串长度；可以选填 **H**和 **L** 表示两种字节顺序，默认的是 **H** 的字节顺序。

### 地址示例

| 地址      | 数据类型 | 说明                                           |
| --------- | -------- | -------------------------------------------- |
| X0    | bit      | X 区域，地址为 0    |
| X1    | bit      | X 区域，地址为 1    |
| Y0    | bit      | Y 区域，地址为 0    |
| Y1    | bit      | Y 区域，地址为 1    |
| D100  | int16    | D 区域，地址为 100  |
| D120  | uint16   | D 区域，地址为 120  |
| D200  | uint32   | D 区域，地址为 200  |
| D10   | float    | D 区域，地址为 10   |
| D20   | double   | D 区域，地址为 20   |
| D152.16L | string   | D 区域，地址为 1002，字符串长度为 16，字节顺序为 L |
| D183.16  | string   | D 区域，地址为 1003，字符串长度为 16，字节顺序为 H |

## 数据监控

完成点位的配置后，您可点击 **监控** -> **数据监控**查看设备信息以及反控设备，具体可参考[数据监控](../../../usage/monitoring.md)。

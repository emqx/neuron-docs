# 概览

IEC60870-5-104 是一种电力自动化系统中常用的通信协议，使用 TCP/IP 协议作为底层通信协议，用于监视和控制电力系统中的各种设备，如变电站、发电机、开关等。

Neuron 支持以总召唤以及设备主动上报数据的方式采集遥信、遥测和遥脉（电度召唤）数据，以及支持通过遥控遥调对设备进行控制。

## 参数

| 参数          | 说明                  |
| ------------ | --------------------- |
| **设备 IP 地址** | 设备的 IPv4 地址                |
| **设备端口**     | 设备端口号，默认为 2404  |
| **公共地址**       |  公共地址，唯一标识数据对象               |
| **总召唤间隔** | 发送总招唤指令的间隔         |
| **时钟同步** | 是否开启时钟同步，定期向设备发送时钟同步请求|
| **遥脉** | 是否开启遥脉，定时召唤总电度信息|

## 数据类型

* UINT8
* INT8
* UINT16
* INT16
* UINT32
* INT32
* FLOAT
* BIT

## 地址格式

> IOA

### IOA
在 IEC60870-5-104 协议中，IOA (Information Object Address) 指的是信息对象地址，是用于唯一标识一个数据对象的地址，用于指定一个信息对象（遥信、遥测、遥控等）的地址。

| IEC 60870-5-104  类型 ID         | 数据类型  |
| :------------------------------ | :------------ |
| M_ME_NA_1、M_ME_TD_1、M_ME_ND_1、M_ME_NB_1、M_ME_TE_1            | uint16/int16 |
| M_IT_NA_1 | int32/uint32|
| M_ME_NC_1、M_ME_TF_1            | float        |
| M_SP_NA_1、M_SP_TB_1            | bit/int8/uint8          |

::: tip
IEC60870-5-104 协议中，一个 IOA 标识的地址只属于一种类型，且能读的点位如遥测等与控制点位如遥控等的 IOA 并不相同，例如，遥测点位 IOA 为 100，这个点位对应的遥控点位 IOA 并不是 100，而是映射到其他的 IOA。
::: 


## 示例

| IOA         | 类型  | 说明 |
| :-------- | :------------ | :---- |
| 100 | M_SP_NA_1 | 读取 IOA 为 100 的一位开关量（单点信息） |
| 1000| C_SC_NA_1 | 单点遥控，对 IOA 为 1000 的信息对象进行一位开关量进行控制写入 ｜
| 400 | M_ME_NA_1 | 读取 IOA 为 400 的测量值 ｜ 
| 4000|C_SE_NA_1 | 单点控制，对 IOA 为 4000 的信息对象进行控制写入 ｜

如上表中 100 与 1000 存在映射关系，则对 1000 进行控制写入后，能从 100 中读到写入的值；或是 400 与 4000 存在映射关系，则对 4000 进行控制写入后，能从 400 中读到写入的值。



